{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liisa\\\\Documents\\\\JavaScript Traning\\\\ReferenceProject\\\\visualizing_surveys\\\\src\\\\components\\\\PieChart.js\",\n    _s = $RefreshSig$();\n\nimport { useSurveyContext } from '../contexts/SurveyContext.js';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Pie } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst PieChart = () => {\n  _s();\n\n  const {\n    selectedSurvey\n  } = useSurveyContext();\n  const [answers, setAnswersArray] = useState({\n    id: \"\",\n    type: \"\",\n    answers: []\n  });\n  const answersArray = selectedSurvey.questions ? selectedSurvey.questions.map(q => {\n    {\n      answersArray.id = q.questionId, answersArray.type = q.questionType;\n      answersArray.answers = selectedSurvey.answers.map(a => {\n        if (a[q.questionId] === q.questionId) {\n          return a.q.questionId;\n        }\n\n        ;\n      });\n    }\n    ;\n  }) : null;\n  const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.filter(obj => {\n    const question = selectedSurvey.questions.find(q => q.questionId === obj[q.questionId]);\n    return question ? question.questionType === \"dropdown\" : false;\n  }).map(obj => obj.questionId) : null;\n  const questionType = selectedSurvey.questions ? selectedSurvey.questions.map(obj => obj.questionType) : null;\n  const answerLabels = [...new Set(surveyAnswers)];\n  const answerCounts = answerLabels.map(labels => {\n    const filtered = surveyAnswers.filter(answer => answer === labels);\n    return filtered.length;\n  });\n  const data = {\n    labels: answerLabels,\n    datasets: [{\n      label: '# of Votes',\n      data: answerCounts,\n      backgroundColor: ['rgba(2, 255, 255, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(75, 232, 50, 0.7)', 'rgba(175, 132, 150, 0.7)'],\n      borderColor: ['rgba(0, 0, 0, 0.8)' // 'rgba(54, 162, 235, 1)',\n      // 'rgba(255, 206, 86, 1)',\n      // 'rgba(75, 192, 192, 1)',\n      ],\n      borderWidth: 1.5\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Pie, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(PieChart, \"9kWRLsEPsJ7O37MYQIj4ACX/TFc=\", false, function () {\n  return [useSurveyContext];\n});\n\n_c = PieChart;\nexport default PieChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"names":["useSurveyContext","Chart","ChartJS","ArcElement","Tooltip","Legend","Pie","register","PieChart","selectedSurvey","answers","setAnswersArray","useState","id","type","answersArray","questions","map","q","questionId","questionType","a","surveyAnswers","filter","obj","question","find","answerLabels","Set","answerCounts","labels","filtered","answer","length","data","datasets","label","backgroundColor","borderColor","borderWidth"],"sources":["C:/Users/liisa/Documents/JavaScript Traning/ReferenceProject/visualizing_surveys/src/components/PieChart.js"],"sourcesContent":["import { useSurveyContext } from '../contexts/SurveyContext.js';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { Pie } from 'react-chartjs-2';\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\n\r\nconst PieChart = () => {\r\n\r\n    const { selectedSurvey } = useSurveyContext();\r\n    const [answers, setAnswersArray] = useState({id: \"\", type: \"\", answers:[]});\r\n\r\n    const answersArray = selectedSurvey.questions ? selectedSurvey.questions.map(q => {\r\n       {\r\n        answersArray.id = q.questionId,\r\n        answersArray.type = q.questionType;\r\n        answersArray.answers = selectedSurvey.answers.map(a => {\r\n            if (a[q.questionId] === q.questionId) {\r\n                return a.q.questionId;\r\n            };\r\n            \r\n        } ) \r\n        };\r\n    })\r\n        \r\n        : (null);\r\n\r\n    \r\n\r\n    const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.filter(obj => {\r\n        const question = selectedSurvey.questions.find(q => q.questionId === obj[q.questionId])\r\n        return question ? question.questionType === \"dropdown\" : false\r\n    }).map(obj => obj.questionId) : (null);\r\n\r\n    const questionType = selectedSurvey.questions ? selectedSurvey.questions.map(obj => obj.questionType) : (null);\r\n\r\n    const answerLabels = [...new Set(surveyAnswers)];\r\n\r\n    const answerCounts = answerLabels.map(labels => {\r\n        const filtered = surveyAnswers.filter(answer => answer === labels);\r\n        return filtered.length;\r\n    });\r\n\r\n\r\n    const data = {\r\n        labels: answerLabels,\r\n        datasets: [\r\n            {\r\n                label: '# of Votes',\r\n                data: answerCounts,\r\n                backgroundColor: [\r\n                    'rgba(2, 255, 255, 0.7)',\r\n                    'rgba(54, 162, 235, 0.7)',\r\n                    'rgba(255, 206, 86, 0.7)',\r\n                    'rgba(75, 192, 192, 0.7)',\r\n                    'rgba(75, 232, 50, 0.7)',\r\n                    'rgba(175, 132, 150, 0.7)',\r\n                ],\r\n                borderColor: [\r\n                    'rgba(0, 0, 0, 0.8)',\r\n                    // 'rgba(54, 162, 235, 1)',\r\n                    // 'rgba(255, 206, 86, 1)',\r\n                    // 'rgba(75, 192, 192, 1)',\r\n                ],\r\n                borderWidth: 1.5,\r\n            },\r\n        ],\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Pie data={data} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PieChart\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}