{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liisa\\\\Documents\\\\Koodit\\\\portfolio\\\\CodePortfolio\\\\surveysApp_javascript\\\\surveys_front\\\\src\\\\components\\\\charts\\\\DoughnutChart.js\",\n    _s = $RefreshSig$();\n\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport { useSurveyContext } from '../../contexts/SurveyContext.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst DoughnutChart = props => {\n  _s();\n\n  const {\n    selectedSurvey\n  } = useSurveyContext();\n  const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(a => a[props.question]) : null;\n  const answerLabels = [...new Set(surveyAnswers)];\n  const answerCounts = answerLabels.map(labels => {\n    const filtered = surveyAnswers.filter(answer => answer === labels);\n    return filtered.length;\n  });\n  const data = {\n    labels: answerLabels,\n    datasets: [{\n      label: '# of Votes',\n      data: answerCounts,\n      backgroundColor: ['rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)'],\n      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n      borderWidth: 2\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Doughnut, {\n    data: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DoughnutChart, \"ca3SUvhwJ6PJ55LPQ0pHj/7bvY4=\", false, function () {\n  return [useSurveyContext];\n});\n\n_c = DoughnutChart;\nexport default DoughnutChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"DoughnutChart\");","map":{"version":3,"names":["Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","useSurveyContext","register","DoughnutChart","props","selectedSurvey","surveyAnswers","answers","map","a","question","answerLabels","Set","answerCounts","labels","filtered","filter","answer","length","data","datasets","label","backgroundColor","borderColor","borderWidth"],"sources":["C:/Users/liisa/Documents/Koodit/portfolio/CodePortfolio/surveysApp_javascript/surveys_front/src/components/charts/DoughnutChart.js"],"sourcesContent":["import { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { useSurveyContext } from '../../contexts/SurveyContext.js';\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\n\r\nconst DoughnutChart = (props) => {\r\n\r\n  const { selectedSurvey } = useSurveyContext();\r\n  const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(a => a[props.question]) : (null);\r\n  const answerLabels = [...new Set(surveyAnswers)];\r\n  const answerCounts = answerLabels.map(labels => {\r\n      const filtered = surveyAnswers.filter(answer => answer === labels);\r\n      return filtered.length;\r\n  });\r\n\r\n  const data = {\r\n    labels: answerLabels,\r\n    datasets: [\r\n      {\r\n        label: '# of Votes',\r\n        data: answerCounts,\r\n        backgroundColor: [\r\n          'rgba(255, 99, 132, 0.7)',\r\n          'rgba(54, 162, 235, 0.7)',\r\n          'rgba(255, 206, 86, 0.7)',\r\n          'rgba(75, 192, 192, 0.7)',\r\n          'rgba(153, 102, 255, 0.7)',\r\n          'rgba(255, 159, 64, 0.7)',\r\n        ],\r\n        borderColor: [\r\n          'rgba(255, 99, 132, 1)',\r\n          'rgba(54, 162, 235, 1)',\r\n          'rgba(255, 206, 86, 1)',\r\n          'rgba(75, 192, 192, 1)',\r\n          'rgba(153, 102, 255, 1)',\r\n          'rgba(255, 159, 64, 1)',\r\n        ],\r\n        borderWidth: 2,\r\n      },\r\n    ],\r\n  };\r\n  return(\r\n    <Doughnut data={data} />\r\n  )\r\n};\r\n\r\nexport default DoughnutChart;\r\n\r\n\r\n"],"mappings":";;;AAAA,SAASA,KAAK,IAAIC,OAAlB,EAA2BC,UAA3B,EAAuCC,OAAvC,EAAgDC,MAAhD,QAA8D,UAA9D;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,gBAAT,QAAiC,iCAAjC;;AACAL,OAAO,CAACM,QAAR,CAAiBL,UAAjB,EAA6BC,OAA7B,EAAsCC,MAAtC;;AAGA,MAAMI,aAAa,GAAIC,KAAD,IAAW;EAAA;;EAE/B,MAAM;IAAEC;EAAF,IAAqBJ,gBAAgB,EAA3C;EACA,MAAMK,aAAa,GAAGD,cAAc,CAACE,OAAf,GAAyBF,cAAc,CAACE,OAAf,CAAuBC,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACL,KAAK,CAACM,QAAP,CAAjC,CAAzB,GAA+E,IAArG;EACA,MAAMC,YAAY,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQN,aAAR,CAAJ,CAArB;EACA,MAAMO,YAAY,GAAGF,YAAY,CAACH,GAAb,CAAiBM,MAAM,IAAI;IAC5C,MAAMC,QAAQ,GAAGT,aAAa,CAACU,MAAd,CAAqBC,MAAM,IAAIA,MAAM,KAAKH,MAA1C,CAAjB;IACA,OAAOC,QAAQ,CAACG,MAAhB;EACH,CAHoB,CAArB;EAKA,MAAMC,IAAI,GAAG;IACXL,MAAM,EAAEH,YADG;IAEXS,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,YADT;MAEEF,IAAI,EAAEN,YAFR;MAGES,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe,EAIf,yBAJe,EAKf,0BALe,EAMf,yBANe,CAHnB;MAWEC,WAAW,EAAE,CACX,uBADW,EAEX,uBAFW,EAGX,uBAHW,EAIX,uBAJW,EAKX,wBALW,EAMX,uBANW,CAXf;MAmBEC,WAAW,EAAE;IAnBf,CADQ;EAFC,CAAb;EA0BA,oBACE,QAAC,QAAD;IAAU,IAAI,EAAEL;EAAhB;IAAA;IAAA;IAAA;EAAA,QADF;AAGD,CAvCD;;GAAMhB,a;UAEuBF,gB;;;KAFvBE,a;AAyCN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}