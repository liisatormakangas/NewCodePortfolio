{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liisa\\\\Documents\\\\Koodit\\\\portfolio\\\\CodePortfolio\\\\surveysApp_javascript\\\\surveys_front\\\\src\\\\components\\\\charts\\\\HorizontalChart.js\",\n    _s = $RefreshSig$();\n\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { useSurveyContext } from '../../contexts/SurveyContext.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\nconst HorizontalChart = props => {\n  _s();\n\n  const {\n    selectedSurvey\n  } = useSurveyContext();\n  const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(a => a[props.question]) : null;\n  const answerLabels = [...new Set(surveyAnswers)];\n  const answerCounts = answerLabels.map(labels => {\n    const filtered = surveyAnswers.filter(answer => answer === labels);\n    return filtered.length;\n  });\n  const options = {\n    indexAxis: 'y',\n    elements: {\n      bar: {\n        borderWidth: 2\n      }\n    },\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'right'\n      },\n      title: {\n        display: true,\n        text: 'Chart.js Horizontal Bar Chart'\n      }\n    }\n  };\n  const data = {\n    labels: answerLabels,\n    datasets: [{\n      label: 'Dataset 1',\n      data: answerCounts,\n      borderColor: 'rgb(255, 99, 132)',\n      backgroundColor: 'rgba(255, 99, 132, 0.7)'\n    }, {\n      label: 'Dataset 2',\n      data: [1, 3, 5, 6, 7, 8, 6, 19, 4],\n      borderColor: 'rgb(53, 162, 235)',\n      backgroundColor: 'rgba(53, 162, 235, 0.7)'\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Bar, {\n    options: options,\n    data: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HorizontalChart, \"ca3SUvhwJ6PJ55LPQ0pHj/7bvY4=\", false, function () {\n  return [useSurveyContext];\n});\n\n_c = HorizontalChart;\nexport default HorizontalChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"HorizontalChart\");","map":{"version":3,"names":["Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","useSurveyContext","register","HorizontalChart","props","selectedSurvey","surveyAnswers","answers","map","a","question","answerLabels","Set","answerCounts","labels","filtered","filter","answer","length","options","indexAxis","elements","bar","borderWidth","responsive","plugins","legend","position","title","display","text","data","datasets","label","borderColor","backgroundColor"],"sources":["C:/Users/liisa/Documents/Koodit/portfolio/CodePortfolio/surveysApp_javascript/surveys_front/src/components/charts/HorizontalChart.js"],"sourcesContent":["import { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { useSurveyContext } from '../../contexts/SurveyContext.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\n\r\nconst HorizontalChart = (props) => {\r\n\r\n    const { selectedSurvey } = useSurveyContext();\r\n    const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(a => a[props.question]) : (null);\r\n    const answerLabels = [...new Set(surveyAnswers)];\r\n    const answerCounts = answerLabels.map(labels => {\r\n        const filtered = surveyAnswers.filter(answer => answer === labels);\r\n        return filtered.length;\r\n    });\r\n\r\n    const options = {\r\n        indexAxis: 'y',\r\n        elements: {\r\n          bar: {\r\n            borderWidth: 2,\r\n          },\r\n        },\r\n        responsive: true,\r\n        plugins: {\r\n          legend: {\r\n            position: 'right',\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: 'Chart.js Horizontal Bar Chart',\r\n          },\r\n        },\r\n      };\r\n      \r\n      \r\n    const data = {\r\n        labels: answerLabels,\r\n        datasets: [\r\n          {\r\n            label: 'Dataset 1',\r\n            data: answerCounts,\r\n            borderColor: 'rgb(255, 99, 132)',\r\n            backgroundColor: 'rgba(255, 99, 132, 0.7)',\r\n          },\r\n          {\r\n            label: 'Dataset 2',\r\n            data: [1,3,5,6,7,8,6,19,4],\r\n            borderColor: 'rgb(53, 162, 235)',\r\n            backgroundColor: 'rgba(53, 162, 235, 0.7)',\r\n          },\r\n        ],\r\n      };\r\n\r\n\r\n    return(\r\n        <Bar options={options} data={data} />\r\n    ) \r\n}\r\n\r\nexport default HorizontalChart\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;;AAAA,SAASA,KAAK,IAAIC,OAAlB,EAA2BC,aAA3B,EAA0CC,WAA1C,EAAuDC,UAAvD,EAAmEC,KAAnE,EAA0EC,OAA1E,EAAmFC,MAAnF,QAAiG,UAAjG;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,SAASC,gBAAT,QAAiC,iCAAjC;;AAEAR,OAAO,CAACS,QAAR,CAAiBR,aAAjB,EAAgCC,WAAhC,EAA6CC,UAA7C,EAAyDC,KAAzD,EAAgEC,OAAhE,EAAyEC,MAAzE;;AAGA,MAAMI,eAAe,GAAIC,KAAD,IAAW;EAAA;;EAE/B,MAAM;IAAEC;EAAF,IAAqBJ,gBAAgB,EAA3C;EACA,MAAMK,aAAa,GAAGD,cAAc,CAACE,OAAf,GAAyBF,cAAc,CAACE,OAAf,CAAuBC,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACL,KAAK,CAACM,QAAP,CAAjC,CAAzB,GAA+E,IAArG;EACA,MAAMC,YAAY,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQN,aAAR,CAAJ,CAArB;EACA,MAAMO,YAAY,GAAGF,YAAY,CAACH,GAAb,CAAiBM,MAAM,IAAI;IAC5C,MAAMC,QAAQ,GAAGT,aAAa,CAACU,MAAd,CAAqBC,MAAM,IAAIA,MAAM,KAAKH,MAA1C,CAAjB;IACA,OAAOC,QAAQ,CAACG,MAAhB;EACH,CAHoB,CAArB;EAKA,MAAMC,OAAO,GAAG;IACZC,SAAS,EAAE,GADC;IAEZC,QAAQ,EAAE;MACRC,GAAG,EAAE;QACHC,WAAW,EAAE;MADV;IADG,CAFE;IAOZC,UAAU,EAAE,IAPA;IAQZC,OAAO,EAAE;MACPC,MAAM,EAAE;QACNC,QAAQ,EAAE;MADJ,CADD;MAIPC,KAAK,EAAE;QACLC,OAAO,EAAE,IADJ;QAELC,IAAI,EAAE;MAFD;IAJA;EARG,CAAhB;EAoBA,MAAMC,IAAI,GAAG;IACTjB,MAAM,EAAEH,YADC;IAETqB,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,WADT;MAEEF,IAAI,EAAElB,YAFR;MAGEqB,WAAW,EAAE,mBAHf;MAIEC,eAAe,EAAE;IAJnB,CADQ,EAOR;MACEF,KAAK,EAAE,WADT;MAEEF,IAAI,EAAE,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,EAAf,EAAkB,CAAlB,CAFR;MAGEG,WAAW,EAAE,mBAHf;MAIEC,eAAe,EAAE;IAJnB,CAPQ;EAFD,CAAb;EAmBA,oBACI,QAAC,GAAD;IAAK,OAAO,EAAEhB,OAAd;IAAuB,IAAI,EAAEY;EAA7B;IAAA;IAAA;IAAA;EAAA,QADJ;AAGH,CApDD;;GAAM5B,e;UAEyBF,gB;;;KAFzBE,e;AAsDN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}