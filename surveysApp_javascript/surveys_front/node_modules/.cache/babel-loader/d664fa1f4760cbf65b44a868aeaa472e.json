{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liisa\\\\Documents\\\\Koodit\\\\portfolio\\\\CodePortfolio\\\\surveysApp_javascript\\\\surveys_front\\\\src\\\\components\\\\charts\\\\BarChart.js\",\n    _s = $RefreshSig$();\n\nimport { useSurveyContext } from '../../contexts/SurveyContext.js';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\nconst BarChart = props => {\n  _s();\n\n  const {\n    selectedSurvey\n  } = useSurveyContext(); // const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(obj =>\n  //     obj.answ) : (null); \n\n  const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(a => a[props.question]) : null;\n  const answerLabels = [...new Set(surveyAnswers)];\n  const answerCounts = answerLabels.map(labels => {\n    const filtered = surveyAnswers.filter(answer => answer === labels);\n    return filtered.length;\n  });\n  const labels = answerLabels;\n  const data = {\n    labels,\n    datasets: [{\n      label: 'Dataset 1',\n      data: answerCounts,\n      backgroundColor: 'rgba(55, 99, 132, 1)'\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Bar, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 8\n    }, this)\n  }, void 0, false);\n};\n\n_s(BarChart, \"ca3SUvhwJ6PJ55LPQ0pHj/7bvY4=\", false, function () {\n  return [useSurveyContext];\n});\n\n_c = BarChart;\nexport default BarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"names":["useSurveyContext","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","register","BarChart","props","selectedSurvey","surveyAnswers","answers","map","a","question","answerLabels","Set","answerCounts","labels","filtered","filter","answer","length","data","datasets","label","backgroundColor"],"sources":["C:/Users/liisa/Documents/Koodit/portfolio/CodePortfolio/surveysApp_javascript/surveys_front/src/components/charts/BarChart.js"],"sourcesContent":["import { useSurveyContext } from '../../contexts/SurveyContext.js';\r\nimport {Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);\r\n  \r\nconst BarChart = (props) => {\r\n    const { selectedSurvey } = useSurveyContext();\r\n\r\n    // const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(obj =>\r\n    //     obj.answ) : (null); \r\n\r\n    const surveyAnswers = selectedSurvey.answers ? selectedSurvey.answers.map(a => a[props.question]) : (null);\r\n    \r\n    const answerLabels = [...new Set(surveyAnswers)];\r\n\r\n\r\n    \r\n    const answerCounts = answerLabels.map(labels => {\r\n        const filtered = surveyAnswers.filter(answer => answer === labels);\r\n        return filtered.length;\r\n      });\r\n    const labels = answerLabels;\r\n      \r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: 'Dataset 1',\r\n            data: answerCounts,\r\n            backgroundColor: 'rgba(55, 99, 132, 1)',\r\n          },\r\n        ],\r\n      };\r\n      \r\n  return (\r\n    <>\r\n       <Bar data={data} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BarChart\r\n\r\n\r\n\r\n"],"mappings":";;;AAAA,SAASA,gBAAT,QAAiC,iCAAjC;AACA,SAAQC,KAAK,IAAIC,OAAjB,EAAyBC,aAAzB,EAAuCC,WAAvC,EAAmDC,UAAnD,EAA8DC,KAA9D,EAAoEC,OAApE,EAA4EC,MAA5E,QAA0F,UAA1F;AACA,SAASC,GAAT,QAAoB,iBAApB;;;AACAP,OAAO,CAACQ,QAAR,CAAiBP,aAAjB,EAA+BC,WAA/B,EAA2CC,UAA3C,EAAsDC,KAAtD,EAA4DC,OAA5D,EAAoEC,MAApE;;AAEA,MAAMG,QAAQ,GAAIC,KAAD,IAAW;EAAA;;EACxB,MAAM;IAAEC;EAAF,IAAqBb,gBAAgB,EAA3C,CADwB,CAGxB;EACA;;EAEA,MAAMc,aAAa,GAAGD,cAAc,CAACE,OAAf,GAAyBF,cAAc,CAACE,OAAf,CAAuBC,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACL,KAAK,CAACM,QAAP,CAAjC,CAAzB,GAA+E,IAArG;EAEA,MAAMC,YAAY,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQN,aAAR,CAAJ,CAArB;EAIA,MAAMO,YAAY,GAAGF,YAAY,CAACH,GAAb,CAAiBM,MAAM,IAAI;IAC5C,MAAMC,QAAQ,GAAGT,aAAa,CAACU,MAAd,CAAqBC,MAAM,IAAIA,MAAM,KAAKH,MAA1C,CAAjB;IACA,OAAOC,QAAQ,CAACG,MAAhB;EACD,CAHkB,CAArB;EAIA,MAAMJ,MAAM,GAAGH,YAAf;EAEA,MAAMQ,IAAI,GAAG;IACTL,MADS;IAETM,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,WADT;MAEEF,IAAI,EAAEN,YAFR;MAGES,eAAe,EAAE;IAHnB,CADQ;EAFD,CAAb;EAWF,oBACE;IAAA,uBACG,QAAC,GAAD;MAAK,IAAI,EAAEH;IAAX;MAAA;MAAA;MAAA;IAAA;EADH,iBADF;AAKD,CAlCD;;GAAMhB,Q;UACyBX,gB;;;KADzBW,Q;AAoCN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}